!function(){"use strict";function a(a,b,d,f,h){b.style.transition=d.style.transition=b.style.webkitTransition=d.style.webkitTransition=".6s ease all";var i=f<=.2*a.clientWidth;i?(b.style.left=-a.clientWidth+"px",d.style.left="0px"):(b.style.left="0px",d.style.left=a.clientWidth+"px"),c(b,function(){b.style.transition=b.style.webkitTransition="",i?e(b):(e(b),b.style.display="block",b.style.position="relative"),h&&h()}),c(d,function(){d.style.transition=d.style.webkitTransition="",i?d.style.left="":g(d),h&&h()})}function b(a,b,d,f,h){b.style.transition=d.style.transition=b.style.webkitTransition=d.style.webkitTransition="0.6s ease left";var i=-f<=.2*a.clientWidth;i?(b.style.left=a.clientWidth+"px",d.style.left="0px"):(b.style.left="0px",d.style.left=-a.clientWidth+"px"),c(b,function(){b.style.transition=b.style.webkitTransition="",i?g(b):(g(b),b.style.display="block",b.style.position="relative"),h&&h()}),c(d,function(){d.style.transition=d.style.webkitTransition="",i?d.style.left="":e(d),h&&h()})}function c(a,b){function c(d){b(d),a.removeEventListener("webkitTransitionEnd",c,!1),a.removeEventListener("mozTransitionEnd",c,!1),a.removeEventListener("MSTransitionEnd",c,!1),a.removeEventListener("otransitionend",c,!1),a.removeEventListener("transitionend",c,!1)}a.addEventListener("webkitTransitionEnd",c,!1),a.addEventListener("mozTransitionEnd",c,!1),a.addEventListener("MSTransitionEnd",c,!1),a.addEventListener("otransitionend",c,!1),a.addEventListener("transitionend",c,!1)}function d(a){a.style.display="block",a.style.position="absolute",a.style.top="0",a.style.width="100%",a.style.left="-100%"}function e(a){a.style.display="none",a.style.position="relative",a.style.top="",a.style.width="",a.style.left=""}function f(a){a.style.display="block",a.style.position="absolute",a.style.top="0",a.style.width="100%",a.style.left="100%"}function g(a){a.style.display="none",a.style.position="relative",a.style.top="",a.style.width="",a.style.left=""}function h(a){for(var b=0;b<a.children.length;b++)if("none"!=a.children[b].style.display&&"relative"==a.children[b].style.position)return b}function i(a,b,c){!function(a,b,c){if("ontouchend"in document)switch(b){case"touchstart":a.addEventListener("touchstart",function(a){c(a,a.touches[0].clientX,a.touches[0].clientY)},!1);break;case"touchmove":a.addEventListener("touchmove",function(a){c(a,a.touches[0].clientX,a.touches[0].clientY)},!1);break;case"touchend":a.addEventListener("touchend",function(a){c(a,void 0,void 0)},!1)}else switch(b){case"touchstart":a.addEventListener("mousedown",function(b){a._mousedown=!0,c(b,b.clientX,b.clientY)},!1);break;case"touchmove":a.addEventListener("mousemove",function(b){a._mousedown&&c(b,b.clientX,b.clientY)},!1);break;case"touchend":a.addEventListener("mouseup",function(b){a._mousedown=!1,c(b,b.clientX,b.clientY)},!1),a.addEventListener("mouseout",function(b){a._mousedown=!1,c(b,b.clientX,b.clientY)},!1)}}(a,b,c)}function j(){var a=navigator.userAgent.toLowerCase();return"micromessenger"==a.match(/MicroMessenger/i)}window.mobileSlide=function(c,k){if(1!=c.nodeType||"ul"!=c.tagName.toLowerCase())return void console.warn("mobileSlide's param is not a HTML UL Element.");if(c.children.length<=1)return void console.warn("ul > li's number must > 1.");c.style.overflow="hidden",c.style.position="relative";for(var l=0;l<c.children.length;l++)c.children[l].style.listStyle="none",c.children[l].style.position="relative",0!==l&&(c.children[l].style.display="none");!function(){function l(){v=!0}function m(){v=!1}function n(){return!!v}var o,p,q,r,s,t,u,v;i(c,"touchstart",function(a,b,d){if(j()&&a.preventDefault(),k&&k.stopPropagation&&a.stopPropagation(),!n()){var e=h(c);o=b,p=d,s=c.children[e],q=0>=e?c.children[c.children.length-1]:c.children[e-1],r=e>=c.children.length-1?c.children[0]:c.children[e+1]}}),i(c,"touchmove",function(a,b,h){k&&k.stopPropagation&&a.stopPropagation(),n()||(t=b-o,u=h-p,t>0&&Math.abs(t)<=c.clientWidth?(r!==q&&g(r),"none"==q.style.display&&d(q),q.style.left=-q.offsetWidth+t+"px",s.style.left=t+"px"):0>t&&Math.abs(t)<=c.clientWidth&&(r!==q&&e(q),"none"==r.style.display&&f(r),r.style.left=r.offsetWidth+t+"px",s.style.left=t+"px"))}),i(c,"touchend",function(d,e,f){k&&k.stopPropagation&&d.stopPropagation(),n()||(Math.abs(t)>0?(l(),t>0?a(c,q,s,t,function(){m(),o=p=q=r=s=t=u=v=void 0}):0>t&&b(c,r,s,t,function(){m(),o=p=q=r=s=t=u=v=void 0})):o=p=q=r=s=t=u=v=void 0)})}()},"function"==typeof define&&define.amd&&define("mobileSlide",[],function(){return window.mobileSlide})}();